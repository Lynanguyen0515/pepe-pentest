import subprocess

def test_integration():
    cmd = 'python3 ./xor.py -x "Hello, world" "101"'
    expected_output = "b'Hfnmp/\"xyzn\\x07'\n"
    process = subprocess.Popen(cmd, stdout=subprocess.PIPE, shell=True)
    output, error = process.communicate()
    assert output.decode('utf-8') == expected_output
